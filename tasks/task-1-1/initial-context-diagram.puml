@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

Person(user, "Пользователи")
Person(admin, "Техники")

System(platform, "«Тёплый дом» ", "Центральный портал умного дома") {
    Container(backend, "Бэкенд", "Java", "Монолитный бакенд. Собирает телеметрию, управляет пользователями и системой целиком")
    ContainerDb(database, "Database", "Postgres", "Хранит и телеметрию и данные бизнес логики")
}

Boundary(home, "Домашняя сеть", "Какой-то радио / ethernet протокол"){
    System_Ext(gateway, "Main module /\nGateway")
    Container_Ext(heatingSystem, "Heating\n system")
    Container_Ext(sensor, "Temperature\n sensor 1")
}


Rel(user, platform, "Проверить состояние, вкл/выкл отопление")
Rel(admin, platform, "Настройка системы")
Rel(admin, gateway, "Подключение датчиков на месте")
Rel(gateway, backend, "Передача телеметрии", "Какой-то протокол")


@enduml


